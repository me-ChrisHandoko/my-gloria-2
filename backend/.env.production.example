# ============================================
# Gloria Backend Production Configuration
# ============================================
# Copy this file to .env.production and fill in your production values
# SECURITY: Never commit actual production values to version control

# --------------------------------------------
# Core Configuration
# --------------------------------------------
NODE_ENV=production
PORT=3001

# --------------------------------------------
# API Configuration
# --------------------------------------------
# API versioning configuration - customize as needed
API_PREFIX=api
API_VERSION=v1

# --------------------------------------------
# Database Configuration (Required)
# --------------------------------------------
# Production PostgreSQL connection string
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?schema=public
DATABASE_URL=postgresql://gloria_user:CHANGE_ME@your-db-host:5432/gloria_production?schema=public

# --------------------------------------------
# Authentication - Clerk (Required)
# --------------------------------------------
# IMPORTANT: Use production keys (pk_live_*, sk_live_*)
CLERK_SECRET_KEY=sk_live_your_production_clerk_secret_key
CLERK_WEBHOOK_SECRET=whsec_your_production_webhook_secret

# --------------------------------------------
# Email Service - Postmark (Recommended)
# --------------------------------------------
# Production Postmark configuration
POSTMARK_API_KEY=your_production_postmark_api_key
POSTMARK_FROM_EMAIL=noreply@yourdomain.com

# --------------------------------------------
# Caching - Redis (Recommended for Production)
# --------------------------------------------
# Redis connection URL for caching and sessions
REDIS_URL=redis://your-redis-host:6379/0
# Uncomment and set if Redis requires authentication
# REDIS_PASSWORD=your_redis_password

# --------------------------------------------
# Security Configuration (Required for Production)
# --------------------------------------------
# Generate strong secrets: openssl rand -base64 32
JWT_SECRET=GENERATE_STRONG_SECRET_MIN_32_CHARS
ENCRYPTION_KEY=GENERATE_STRONG_SECRET_MIN_32_CHARS

# Session configuration
SESSION_SECRET=GENERATE_STRONG_SECRET_MIN_32_CHARS
SESSION_MAX_AGE=86400

# --------------------------------------------
# CORS Configuration
# --------------------------------------------
# Comma-separated list of allowed origins
# Example: https://app.yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=https://your-frontend-domain.com

# --------------------------------------------
# Rate Limiting (Production Values)
# --------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# --------------------------------------------
# File Upload Configuration
# --------------------------------------------
# Use absolute path for production
UPLOAD_DIR=/var/app/uploads
MAX_FILE_SIZE=10485760

# --------------------------------------------
# Monitoring & Error Tracking (Highly Recommended)
# --------------------------------------------
# Sentry DSN for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Production log level (info, warn, error)
LOG_LEVEL=info

# --------------------------------------------
# Feature Flags
# --------------------------------------------
# Control feature availability in production
ENABLE_SWAGGER=false
ENABLE_METRICS=true
ENABLE_HEALTH_CHECK=true
ENABLE_AUDIT_LOG=true

# --------------------------------------------
# Performance & Optimization
# --------------------------------------------
# Cluster mode configuration
CLUSTER_ENABLED=true
CLUSTER_WORKERS=auto

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# --------------------------------------------
# Backup & Maintenance
# --------------------------------------------
# Backup configuration (if applicable)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System maintenance in progress

# --------------------------------------------
# External Services (Optional)
# --------------------------------------------
# Add any additional production service configurations here
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# GOOGLE_CLOUD_PROJECT_ID=your-project-id
# AWS_REGION=us-east-1